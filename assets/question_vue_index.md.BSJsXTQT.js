import{_ as s,c as t,o as i,a4 as e}from"./chunks/framework.E4YCCYO0.js";const a="/assets/image.BAcmFezf.png",g=JSON.parse('{"title":"使用keepAlive后报错，报错信息 Uncaught (in promise) TypeError: parentComponent.ctx.deactivate is not a function","description":"","frontmatter":{},"headers":[],"relativePath":"question/vue/index.md","filePath":"question/vue/index.md"}'),n={name:"question/vue/index.md"},p=e('<h1 id="使用keepalive后报错-报错信息-uncaught-in-promise-typeerror-parentcomponent-ctx-deactivate-is-not-a-function" tabindex="-1">使用keepAlive后报错，报错信息 Uncaught (in promise) TypeError: parentComponent.ctx.deactivate is not a function <a class="header-anchor" href="#使用keepalive后报错-报错信息-uncaught-in-promise-typeerror-parentcomponent-ctx-deactivate-is-not-a-function" aria-label="Permalink to &quot;使用keepAlive后报错，报错信息 Uncaught (in promise) TypeError: parentComponent.ctx.deactivate is not a function&quot;">​</a></h1><h2 id="报错信息" tabindex="-1">报错信息 <a class="header-anchor" href="#报错信息" aria-label="Permalink to &quot;报错信息&quot;">​</a></h2><p>Uncaught (in promise) TypeError: parentComponent.ctx.deactivate is not a function</p><p><img src="'+a+`" alt="alt text"></p><p>原因：</p><p>通常是因为 <strong>组件的渲染条件切换导致上下文丢失</strong>。</p><p>使用了v-if，报的错</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">router-view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-slot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ Component, route}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;keep-alive&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;component :is=&quot;Component&quot; v-if=&quot;route.meta.keepAlive&quot;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/keep-alive&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;component :is=&quot;Component&quot; v-if=&quot;!route.meta.keepAlive&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">router-view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>解决：</p><p><strong>确保 <code>key</code> 唯一</strong>：使用路由路径作为 <code>key</code>，防止组件复用导致状态混乱</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">router-view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-slot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ Component, route}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;keep-alive&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;component :is=&quot;Component&quot; v-if=&quot;route.meta.keepAlive&quot; :key=&quot;route.path&quot;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/keep-alive&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;component :is=&quot;Component&quot; v-if=&quot;!route.meta.keepAlive&quot; :key=&quot;route.path&quot;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">router-view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><a href="https://chat.deepseek.com/a/chat/s/d9757e90-e8c1-4c0f-8294-ea883306985e" target="_blank" rel="noreferrer">https://chat.deepseek.com/a/chat/s/d9757e90-e8c1-4c0f-8294-ea883306985e</a></p>`,12),o=[p];function l(h,r,k,c,E,d){return i(),t("div",null,o)}const v=s(n,[["render",l]]);export{g as __pageData,v as default};
